<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koul√© Ingenium - Innovating the Future of Robotics</title> 
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        /* Base styles */
        .hero-slideshow {
            background-image: url('Gemini_Generated_Image_39d0d539d0d539d0.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transition: background-image 1s ease-in-out;
            min-height: 50vh; /* Added to ensure visibility */
        }
        .card {
            background-color: #f9fafb;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .text-gold { color: #D4AF37; }
        .text-dark-blue { color: #121223; }
        .btn-gold {
            display: inline-block;
            background-color: #D4AF37;
            color: #121223;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            text-decoration: none;
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out;
        }
        .btn-gold:hover {
            background-color: #a68b2a;
            transform: scale(1.05);
        }
        .bg-dark-blue { background-color: #121223; }
        .input-field {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            box-sizing: border-box;
            transition: border-color 0.3s ease-in-out;
        }
        .input-field:focus {
            outline: none;
            border-color: #D4AF37;
        }
        /* ENHANCEMENT: Responsive Media Container */
        .media-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            border-radius: 0.75rem;
        }
        .media-container iframe, .media-container video, .media-container img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            object-fit: cover; /* Ensures images/videos fill the space */
        }
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 1s ease-out forwards;
        }
        .delay-300 { animation-delay: 0.3s; }
        .delay-500 { animation-delay: 0.5s; }
    </style>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JY5YGKHF0V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-JY5YGKHF0V');
    </script>
</head>
<body class="bg-gray-50 text-dark-blue">
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <a href="/" onclick="handleNavigation(event, 'home')" class="flex items-center space-x-2">
                    <img src="WhatsApp Image 2025-09-08 at 12.05.21_899ebfab.jpg" alt="Koul√© Ingenium Logo" class="h-10 md:h-12 rounded-full">
                    <span class="text-2xl font-bold text-dark-blue">Koul√© <span class="text-gold">Ingenium</span></span>
                </a>
                
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-600 hover:text-gold focus:outline-none" aria-expanded="false" aria-controls="mobile-menu">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
                
                <div class="hidden md:flex space-x-4 items-center" id="desktop-menu">
                    <a href="#about" class="text-gray-600 hover:text-gold transition-colors duration-200">About</a>
                    <a href="#services" class="text-gray-600 hover:text-gold transition-colors duration-200">Services</a>
                    <a href="#projects" class="text-gray-600 hover:text-gold transition-colors duration-200">Projects</a>
                    <a href="/courses" onclick="handleNavigation(event, 'courses')" class="text-gray-600 hover:text-gold transition-colors duration-200">Courses</a>
                    <a href="#meeting" class="btn-gold hidden md:block">Contact</a>
                </div>
            </div>
            
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="flex flex-col space-y-4 py-4">
                    <a href="#about" class="text-gray-600 hover:text-gold transition-colors duration-200">About</a>
                    <a href="#services" class="text-gray-600 hover:text-gold transition-colors duration-200">Services</a>
                    <a href="#projects" class="text-gray-600 hover:text-gold transition-colors duration-200">Projects</a>
                    <a href="/courses" onclick="handleNavigation(event, 'courses')" class="text-gray-600 hover:text-gold transition-colors duration-200">Courses</a>
                    <a href="#meeting" class="btn-gold block text-center mt-2">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main id="app-container">
        </main>

    <footer class="bg-dark-blue text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p>&copy; 2024 Koul√© Ingenium. All rights reserved.</p>
            <div class="flex justify-center space-x-6 mt-4">
                <a href="https://www.linkedin.com/in/berthe-fadel-a21390234/" target="_blank" class="text-white hover:text-gold transition-colors duration-200" aria-label="LinkedIn Profile">
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.761 0-.971.784-1.76 1.75-1.76s1.75.789 1.75 1.76c0 .971-.784 1.761-1.75 1.761zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.784 7 2.404v6.831z"/>
                    </svg>
                </a>
                <a href="https://github.com/Berthe98" target="_blank" class="text-white hover:text-gold transition-colors duration-200" aria-label="GitHub Profile">
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.6.11.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.727-4.043-1.612-4.043-1.612-.547-1.387-1.332-1.758-1.332-1.758-1.087-.745.083-.73.083-.73 1.205.085 1.838 1.238 1.838 1.238 1.07 1.83 2.806 1.302 3.493.996.109-.775.419-1.303.762-1.604-2.665-.304-5.466-1.334-5.466-5.932 0-1.31.465-2.383 1.235-3.22-.124-.303-.537-1.52.117-3.175 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.4 3.003-.404 1.02.004 2.046.138 3.004.404 2.29-1.552 3.298-1.23 3.298-1.23.655 1.655.242 2.872.118 3.175.77.837 1.233 1.91 1.233 3.22 0 4.61-2.805 5.624-5.475 5.922.43.37.823 1.102.823 2.222 0 1.606-.015 2.894-.015 3.28 0 .322.218.692.829.575C20.565 21.797 24 17.306 24 12c0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://x.com/fadelberthe24" target="_blank" class="text-white hover:text-gold transition-colors duration-200" aria-label="X (Twitter) Profile">
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M18.901 1.144h3.668l-8.625 9.947 10.42 12.01h-3.668l-7.792-8.989-5.185 8.989h-3.669l9.31-10.746-9.61-11.21h3.669l6.985 8.058 4.673-8.058zm-2.029 18.043h-1.074l-9.697-17.701h1.075l9.696 17.701z"/>
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Utility function to convert YouTube URLs to embed URLs
        function getYouTubeEmbedUrl(url) {
            if (!url) return '';
            const regExp = /^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([\w-]{11})/;
            const match = url.match(regExp);
            const videoId = match ? match[1] : null;
            if (videoId) {
                return `https://www.youtube.com/embed/${videoId}?rel=0`; // rel=0 prevents related videos from showing
            }
            return '';
        }

        const projects = {
            'automotive-suspension': {
                name: 'Advanced Automotive Suspension System Design',
                description: 'Complete design of a car suspension system in SolidWorks.',
                fullDescription: 'This project involves the comprehensive design and analysis of a double-wishbone suspension system for an automotive application. The design was executed using SolidWorks, a professional 3D computer-aided design (CAD) software, ensuring precise geometric modeling and component integration. The system\'s architecture includes key components such as upper and lower control arms, uprights, coilover shocks, and anti-roll bars, all meticulously engineered to meet performance specifications. The project goes beyond basic modeling, incorporating a full motion study and kinematic analysis to simulate the suspension\'s behavior under dynamic loads and various driving conditions. This analysis ensures the design\'s effectiveness in managing wheel alignment, ride comfort, and handling stability. The final design is a robust and performance-oriented solution, demonstrating a high level of expertise in mechanical engineering principles, CAD software proficiency, and automotive system design.',
                image: [
                    'CR-01.png', 'CR-02.png', 'CR-03.png', 'CR-04.png', 'CR-05.png', 'CR-06.png', 'CR-07.png'
                ]
            },
            'aerodrone': {
                name: 'AeroDrone',
                description: 'An autonomous inspection drone for large-scale infrastructure monitoring.',
                fullDescription: 'AeroDrone is a sophisticated unmanned aerial vehicle (UAV) designed for autonomous inspection of critical infrastructure such as pipelines, power lines, and bridges. Equipped with high-resolution cameras and thermal sensors, it can detect subtle defects and structural anomalies that are difficult to spot with the naked eye. The drone\'s flight path is pre-programmed, allowing it to navigate complex environments with precision while a real-time data feed provides inspectors with a live view of the asset\'s condition. AeroDrone is built with a robust, weather-resistant frame and an advanced battery system for extended flight times. This project highlights our expertise in mechatronics, embedded systems programming, and computer vision, offering a solution that significantly reduces inspection time, cost, and human risk.',
                video: getYouTubeEmbedUrl('https://youtu.be/lT8vN98qXh4?si=Dq3bovK_QH4fvLCy')
            },
            'healthbot': {
                name: 'HealthBot',
                description: 'A robotic assistant for hospitals and clinics, improving patient care and logistics.',
                fullDescription: 'HealthBot is a state-of-the-art robotic assistant designed to support medical staff in hospitals and clinics. It can autonomously navigate hospital corridors to deliver medications, lab samples, and other supplies, reducing the workload on nurses and orderlies. The robot is equipped with a secure, lockable compartment to ensure the safe transport of sensitive materials. Its intuitive interface allows staff to easily schedule delivery tasks and track its location in real-time. HealthBot also features an integrated video-call system, enabling remote consultations between doctors and patients, which is especially useful for check-ins or quick questions. This project showcases our capability in developing complex, multi-functional autonomous systems with a focus on safety, reliability, and human-robot interaction. It represents a significant step forward in leveraging robotics to enhance efficiency and patient care in the healthcare industry.',
                video: getYouTubeEmbedUrl('https://youtube.com/shorts/XombyZaDHh8?si=f3mI2RIENvNfmyms')
            }
        };

        const courses = {
            'robotics-fundamentals': {
                name: 'Robotics Fundamentals: From Motors to Microcontrollers',
                description: 'An introductory course to the world of robotics, covering electronics, programming, and mechanical design.',
                fullDescription: 'This comprehensive course provides a hands-on introduction to the core principles of robotics. Students will learn about the different types of motors and sensors used in robots, how to select the right components for a project, and the basics of microcontroller programming using platforms like Arduino. The curriculum includes practical exercises and a final project where students will build and program their own simple robot from scratch. No prior experience is required, making this the perfect starting point for anyone interested in a career in robotics or just looking to explore a new hobby.',
                image: 'WhatsApp Image 2025-09-20 at 21.47.33_b136d681.jpg'
            },
            'cad-solidworks': {
                name: 'CAD with SolidWorks: Product Design & Simulation',
                description: 'Master the industry-standard software for mechanical design, simulation, and analysis.',
                fullDescription: 'This course is a deep dive into SolidWorks, the premier CAD software used by engineers worldwide. You will learn to create complex 3D models, assemble multi-component systems, and use simulation tools to test your designs under real-world conditions. The course covers everything from basic sketching and part modeling to advanced topics like surface design and motion studies. By the end of this course, you will be proficient in SolidWorks and have a strong portfolio of projects to showcase to potential employers, including designs for intricate mechanical parts and full product assemblies.',
                image: 'WhatsApp Image 2025-09-20 at 21.47.34_826735ed.jpg'
            },
            'agri-robotics': {
                name: 'Introduction to Agricultural Robotics',
                description: 'Explore how robotics and automation are revolutionizing modern agriculture, from planting to harvesting.',
                fullDescription: 'This course examines the growing field of agricultural robotics, where technology is used to increase efficiency and sustainability in farming. You will learn about autonomous tractors, crop-monitoring drones, and robotic harvesters. The curriculum covers the unique challenges of designing robots for outdoor environments, including navigation, power management, and sensor integration. We will also discuss the future of food production and how robotics can help address global food security issues. This course is ideal for students and professionals in engineering, agriculture, or anyone with an interest in sustainable technology.',
                image: 'WhatsApp Image 2025-09-20 at 21.47.34_cb298b7e.jpg'
            }
        };
        
        // --- ENHANCEMENT: Project Gallery with Controls ---
        let currentImageIndex = 0;
        let activeProjectImages = [];
        
        // Make navigation functions global for inline onclick
        window.changeProjectImage = function(index) {
            currentImageIndex = index;
            renderProjectGallery();
        };

        window.navigateProjectImage = function(direction) {
            currentImageIndex = (currentImageIndex + direction + activeProjectImages.length) % activeProjectImages.length;
            renderProjectGallery();
        };

        function renderProjectGallery() {
            const container = document.getElementById('project-image-gallery');
            if (!container) return;

            // Main Image Display
            const mainImage = `<img id="main-project-image" src="${activeProjectImages[currentImageIndex]}" loading="lazy" class="w-full h-auto rounded-lg shadow-xl transition-opacity duration-300" alt="Project Image ${currentImageIndex + 1}">`;
            
            // Thumbnails
            const thumbnails = activeProjectImages.map((src, index) => `
                <img 
                    src="${src}" 
                    alt="Thumbnail ${index + 1}" 
                    loading="lazy"
                    class="w-20 h-14 object-cover rounded-md cursor-pointer transition-all duration-300 ${index === currentImageIndex ? 'border-4 border-gold opacity-100' : 'border-4 border-transparent opacity-70 hover:opacity-100'}"
                    onclick="window.changeProjectImage(${index})"
                >
            `).join('');

            // Full Gallery structure
            container.innerHTML = `
                <div class="relative media-container mb-4">
                    ${mainImage}
                    <button aria-label="Previous Image" onclick="window.navigateProjectImage(-1)" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-dark-blue/70 text-white p-2 rounded-full hover:bg-gold hover:text-dark-blue transition z-20">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button aria-label="Next Image" onclick="window.navigateProjectImage(1)" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-dark-blue/70 text-white p-2 rounded-full hover:bg-gold hover:text-dark-blue transition z-20">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>
                </div>
                <div class="flex space-x-3 overflow-x-auto justify-center p-2 bg-gray-100 rounded-lg">
                    ${thumbnails}
                </div>
            `;
        }
        
        // --- Core Routing and Rendering Function ---
        function renderPage(page, contentId = null, shouldPushState = true) {
            const container = document.getElementById('app-container');
            if (!container) return; // Safety check
            
            container.innerHTML = '';
            let content = '';
            let newPath = '/';
            let pageTitle = 'Koul√© Ingenium - Innovating the Future of Robotics';
            const aboutImagePlaceholder = 'https://placehold.co/600x400/121223/D4AF37?text=About+Image';
            let mediaHtml = '';

            // 1. Determine Content and Set Metadata/Path
            if (page === 'home') {
                newPath = '/';
                pageTitle = 'Koul√© Ingenium - Engineering, Robotics & STEM Education';
                content = `
                    <section id="hero" class="py-24 md:py-48 px-4 text-center hero-slideshow bg-dark-blue">
                        <div class="relative max-w-4xl mx-auto z-10 text-white">
                            <h1 class="text-3xl md:text-5xl font-bold mb-4 animate-fadeIn">Innovating the Future of Robotics</h1>
                            <p class="text-md md:text-xl text-gray-200 mb-8 animate-fadeIn delay-300">Building intelligent machines that solve complex challenges and empower humanity.</p>
                            <a href="#meeting" class="btn-gold animate-fadeIn delay-500">Request a Meeting</a>
                        </div>
                    </section>
                    <section id="about" class="py-16 md:py-24 px-4 bg-white">
                        <div class="max-w-7xl mx-auto">
                            <h2 class="text-3xl font-bold text-center mb-12 text-gold">Who We Are</h2>
                            <div class="grid md:grid-cols-2 gap-12 items-center">
                                <div class="order-2 md:order-1">
                                    <p class="text-gray-600 mb-4">
                                    Koul√© Ingenium is dedicated to forging a new generation of problem-solvers. We draw our purpose from the Koul√©, the Senufo figure symbolizing knowledge and mentorship, and unite it with Ingenium, the principle of actionable ingenuity. Our mission is clear: to create practical, real-world solutions that improve lives. We believe in building a future where local challenges are met with intelligent, homegrown solutions, all while empowering our community through education and innovative leadership.
                                    </p>
                                </div>
                                <div class="order-1 md:order-2">
                                    <img src="Gemini_Generated_Image_39d0d539d0d539d0.png" loading="lazy" onerror="this.src='${aboutImagePlaceholder}'" alt="Koul√© Ingenium team working on a project" class="w-full h-auto rounded-xl shadow-lg">
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="services" class="py-16 md:py-24 px-4 bg-gray-100">
                        <div class="max-w-7xl mx-auto">
                            <h2 class="text-3xl font-bold text-center mb-12 text-gold">Our Services</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                                <div class="card p-6 text-center">
                                    <h3 class="text-xl font-semibold mb-2 text-dark-blue">CAD & Product Design</h3>
                                    <p class="text-gray-600">Expert design services using SolidWorks for mechanical and industrial applications.</p>
                                </div>
                                <div class="card p-6 text-center">
                                    <h3 class="text-xl font-semibold mb-2 text-dark-blue">STEM Education</h3>
                                    <p class="text-gray-600">Engaging classes and workshops in science, technology, engineering, and mathematics.</p>
                                </div>
                                <div class="card p-6 text-center">
                                    <h3 class="text-xl font-semibold mb-2 text-dark-blue">Robotics Development</h3>
                                    <p class="text-gray-600">We design and build custom robotic solutions and offer training.</p>
                                </div>
                                <div class="card p-6 text-center">
                                    <h3 class="text-xl font-semibold mb-2 text-dark-blue">Agricultural Robotics</h3>
                                    <p class="text-gray-600">Innovative solutions for farming, from autonomous planters to crop monitoring drones.</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="projects" class="py-16 md:py-24 px-4 bg-white">
                        <div class="max-w-7xl mx-auto">
                            <h2 class="text-3xl font-bold text-center mb-12 text-gold">Our Projects</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                ${Object.keys(projects).map(key => {
                                    const proj = projects[key];
                                    const media = proj.video ? `<div class="media-container mb-4"><img src="https://img.youtube.com/vi/${proj.video.match(/embed\/([\w-]{11})/)[1]}/hqdefault.jpg" alt="${proj.name} Thumbnail" class="w-full h-full object-cover"></div>` : 
                                                            `<div class="media-container mb-4"><img src="${proj.image[0]}" loading="lazy" alt="${proj.name} Image" class="w-full h-full object-cover"></div>`;
                                    return `
                                        <div class="card p-6 flex flex-col">
                                            <h3 class="text-xl font-semibold mb-2 text-dark-blue">${proj.name}</h3>
                                            <p class="text-gray-600 mb-4">${proj.description}</p>
                                            ${media}
                                            <a href="/project/${key}" onclick="handleNavigation(event, 'project', '${key}')" class="btn-gold block text-center mt-auto">Learn More</a>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </section>
                    <section id="contact" class="py-16 md:py-24 px-4 bg-gray-100">
                        <div class="max-w-3xl mx-auto card p-8 md:p-12">
                            <h2 class="text-3xl font-bold text-center mb-8 text-gold">Contact Us</h2>
                            <div class="space-y-4 text-center">
                                <p class="text-lg text-gray-600">For general inquiries, feel free to reach out:</p>
                                <p class="text-xl font-semibold text-gray-800">Email: Fadelberthe24@gmail.com</p>
                                <p class="text-xl font-semibold text-gray-800">Mobile: +22651881725</p>
                            </div>
                        </div>
                    </section>
                    <section id="meeting" class="py-16 md:py-24 px-4 bg-white">
                        <div class="max-w-3xl mx-auto card p-8 md:p-12">
                            <h2 class="text-3xl font-bold text-center mb-8 text-gold">Schedule an Online Meeting</h2>
                            <form id="meetingForm" class="space-y-6">
                                <div><label for="name" class="block text-sm font-medium mb-1 text-gray-600">Full Name</label><input type="text" id="name" name="name" class="input-field" required></div>
                                <div><label for="email" class="block text-sm font-medium mb-1 text-gray-600">Email Address</label><input type="email" id="email" name="email" class="input-field" required></div>
                                <div><label for="date" class="block text-sm font-medium mb-1 text-gray-600">Preferred Date</label><input type="date" id="date" name="date" class="input-field" required></div>
                                <div><label for="time" class="block text-sm font-medium mb-1 text-gray-600">Preferred Time</label><input type="time" id="time" name="time" class="input-field" required></div>
                                <div><label for="notes" class="block text-sm font-medium mb-1 text-gray-600">Meeting Topic</label><textarea id="notes" name="notes" rows="4" class="input-field" placeholder="Briefly describe the purpose of the meeting."></textarea></div>
                                <button type="submit" class="btn-gold w-full">Request Meeting</button>
                            </form>
                        </div>
                    </section>
                `;
            } else if (page === 'courses') {
                newPath = '/courses';
                pageTitle = 'Online Courses in Robotics and CAD | Koul√© Ingenium';
                content = `
                    <section id="courses-list" class="py-16 md:py-24 px-4 bg-gray-100">
                        <div class="max-w-7xl mx-auto">
                            <h2 class="text-3xl font-bold text-center mb-12 text-gold">Our Online Courses</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                ${Object.keys(courses).map(key => `
                                    <div class="card p-6 flex flex-col">
                                        <h3 class="text-xl font-semibold mb-2 text-dark-blue">${courses[key].name}</h3>
                                        <p class="text-gray-600 mb-4">${courses[key].description}</p>
                                        <div class="media-container mb-4">
                                            <img src="${courses[key].image}" loading="lazy" alt="${courses[key].name} Image" class="w-full h-auto rounded-lg shadow-md" onerror="this.src='https://placehold.co/600x400/121223/D4AF37?text=${encodeURIComponent(courses[key].name + ' Image')}';">
                                        </div>
                                        <a href="/course/${key}" onclick="handleNavigation(event, 'course', '${key}')" class="btn-gold block text-center mt-auto">Learn More</a>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </section>
                `;
            } else if (page === 'project' && contentId) {
                const project = projects[contentId];
                if (project) {
                    newPath = `/project/${contentId}`;
                    pageTitle = `${project.name} | Koul√© Ingenium`;

                    if (project.video) {
                        // ENHANCEMENT: Use modern, responsive iframe embed
                        mediaHtml = `<iframe src="${project.video}" title="YouTube video player - ${project.name}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
                    } else if (Array.isArray(project.image)) {
                        // ENHANCEMENT: Setup the gallery container
                        mediaHtml = `<div id="project-image-gallery" class="mb-6"></div>`;
                        activeProjectImages = project.image;
                        currentImageIndex = 0;
                    }
                    
                    content = ` 
                        <section class="py-16 md:py-24 px-4 bg-white min-h-[80vh]"> 
                            <div class="max-w-7xl mx-auto"> 
                                <a href="/" onclick="handleNavigation(event, 'home')" class="text-gold mb-8 flex items-center space-x-2 hover:underline"> 
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"> 
                                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" /> 
                                    </svg> 
                                    <span>Back to Home</span> 
                                </a> 
                                <h2 class="text-4xl font-bold text-dark-blue mb-4">${project.name}</h2>
                                <p class="text-lg text-gray-600 mb-8">${project.description}</p>
                                
                                <div class="w-full lg:w-3/4 mx-auto mb-12">
                                    ${project.video ? `<div class="media-container">${mediaHtml}</div>` : mediaHtml}
                                </div>

                                <div class="prose max-w-none text-gray-700">
                                    <h3 class="text-2xl font-semibold text-gold mt-8">Full Description</h3>
                                    <p>${project.fullDescription}</p>
                                </div>

                            </div>
                        </section>`;
                }
            }
            // Add similar logic for 'course' detail view
            else {
                // Default 404-like view
                content = `<div class="max-w-4xl mx-auto py-16 px-4 text-center min-h-[80vh]"> 
                    <h2 class="text-3xl font-bold text-red-500">Content Not Found</h2> 
                    <p class="mt-4 text-gray-600">The page you are looking for does not exist. Please go back to the home page.</p> 
                    <a href="/" onclick="handleNavigation(event, 'home')" class="mt-8 btn-gold">Back to Home</a> 
                </div>`;
            }

            // 2. Render Content and Update State
            container.innerHTML = content;
            document.title = pageTitle;

            // Update URL only if requested (prevents history on 'popstate')
            if (shouldPushState) {
                history.pushState({ page: page, id: contentId }, pageTitle, newPath);
            }
            
            // Scroll to the top on page change
            window.scrollTo(0, 0); 

            // 3. Post-Render Setup
            if (document.getElementById('meetingForm')) {
                document.getElementById('meetingForm').addEventListener('submit', handleMeetingForm, { once: true });
            }
            if (contentId === 'automotive-suspension') {
                renderProjectGallery(); // Initialize the custom gallery
            }
        }

        // --- ENHANCEMENT: Routing Logic ---

        // Function to handle all internal link clicks
        function handleNavigation(event, page, contentId = null) {
            // Prevent default link action (full page reload)
            event.preventDefault(); 
            // Render the new page content and update browser history
            renderPage(page, contentId, true);
            // Close mobile menu if open
            document.getElementById('mobile-menu').classList.add('hidden');
            document.getElementById('mobile-menu-button').setAttribute('aria-expanded', 'false');
        }

        // Function to handle back/forward button clicks
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.page) {
                renderPage(event.state.page, event.state.id, false); // Do not push new state
            } else {
                renderPage('home', null, false);
            }
        });

        // Function to parse the current URL path on initial load or reload
        function initializeRouter() {
            const path = window.location.pathname.toLowerCase();
            const segments = path.split('/').filter(s => s.length > 0);

            if (segments.length === 0 || segments[0] === 'home') {
                renderPage('home', null, false);
            } else if (segments[0] === 'courses') {
                if (segments.length === 1) {
                    renderPage('courses', null, false);
                } else if (segments.length === 2 && courses[segments[1]]) {
                    renderPage('course', segments[1], false);
                } else {
                    renderPage('404', null, false); // Simple error page
                }
            } else if (segments[0] === 'project' && segments.length === 2 && projects[segments[1]]) {
                renderPage('project', segments[1], false);
            } else {
                renderPage('home', null, false); // Fallback to home
            }
        }
        
        // --- Remaining Utility Functions ---

        // Function to handle the meeting form submission
        function handleMeetingForm(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            console.log('Meeting Request Data:', data);

            // Display a success message.
            const messageDiv = document.createElement('div');
            messageDiv.id = 'success-message';
            messageDiv.className = 'fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white p-8 rounded-lg shadow-xl z-[100] transition-all duration-300 transform scale-100 opacity-100';
            messageDiv.innerHTML = `
                <div class="text-center">
                    <p class="text-2xl font-bold mb-4">Meeting Request Sent! üéâ</p>
                    <p>Thank you, ${data.name}! We will contact you shortly at ${data.email} to confirm the details.</p>
                    <button id="closeMessage" class="mt-6 btn-gold bg-white text-dark-blue">Close</button>
                </div>
            `;
            document.body.appendChild(messageDiv);
            document.getElementById('closeMessage').addEventListener('click', handleCloseMessage);
            form.reset();
        }

        // Function to close the success message
        function handleCloseMessage() {
            const messageDiv = document.getElementById('success-message');
            if (messageDiv) {
                messageDiv.style.transform = 'scale(0.8)';
                messageDiv.style.opacity = '0';
                setTimeout(() => { messageDiv.remove(); }, 300);
            }
        }
        
        // --- Mobile Menu Toggle ---
        document.addEventListener('DOMContentLoaded', () => {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('hidden');
            });
            
            // Start the router on page load
            initializeRouter();
        });
    </script>
</body>
</html>